{% extends "base.html" %}

{% block title %}Booking Confirmation - Toy Planner{% endblock %}

{% block content %}
<div class="container">
    <div class="hero">
        <div style="font-size: 4rem; margin-bottom: 1rem;">ðŸŽ‰</div>
        <h1>Booking Request Submitted!</h1>
        <p>Thank you for choosing {{ booking.venue.name }}. We'll contact you within 24 hours to confirm your booking.</p>
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 2rem;">
        <div class="detail-section">
            <h3>Booking Details</h3>
            <div style="margin-top: 1rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem;">
                    <span><strong>Booking ID:</strong></span>
                    <span>#{{ booking.id }}</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem;">
                    <span><strong>Venue:</strong></span>
                    <span>{{ booking.venue.name }}</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem;">
                    <span><strong>Event Date:</strong></span>
                    <span>{{ booking.event_date.strftime('%B %d, %Y') if booking.event_date else 'Date TBD' }}</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem;">
                    <span><strong>Guest Count:</strong></span>
                    <span>{{ booking.guest_count }} guests</span>
                </div>
                {% if booking.selected_hall %}
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem;">
                    <span><strong>Selected Hall:</strong></span>
                    <span>{{ booking.selected_hall.name }}</span>
                </div>
                {% endif %}
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem;">
                    <span><strong>Status:</strong></span>
                    <span style="color: var(--accent-green); font-weight: bold;">{{ booking.status.title() }}</span>
                </div>
                <hr style="margin: 1rem 0;">
                <div style="display: flex; justify-content: space-between; font-size: 1.2rem; font-weight: bold;">
                    <span>Total Amount:</span>
                    <span>{{ "{:,}".format(booking.total_amount or 0) }} KZT</span>
                </div>
            </div>
        </div>

        <div class="detail-section">
            <h3>Contact Information</h3>
            <div style="margin-top: 1rem;">
                <div style="margin-bottom: 0.8rem;">
                    <strong>Client Name:</strong><br>
                    {{ booking.client_name }}
                </div>
                <div style="margin-bottom: 0.8rem;">
                    <strong>Email:</strong><br>
                    {{ booking.client_email }}
                </div>
                <div style="margin-bottom: 0.8rem;">
                    <strong>Phone:</strong><br>
                    {{ booking.client_phone }}
                </div>
                {% if booking.special_requests %}
                <div style="margin-bottom: 0.8rem;">
                    <strong>Special Requests:</strong><br>
                    <p style="background: var(--soft-sand); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        {{ booking.special_requests }}
                    </p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="detail-section" style="margin-top: 2rem;">
        <h3>Next Steps</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 1.5rem;">
            <div style="text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">ðŸ“ž</div>
                <h4>1. Confirmation Call</h4>
                <p>Our team will contact you within 24 hours to confirm availability and discuss details.</p>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">ðŸ’³</div>
                <h4>2. Payment Completed</h4>
                <p>Your full payment has been processed. Receipt sent to your email address.</p>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">ðŸ“‹</div>
                <h4>3. Menu Planning</h4>
                <p>Work with our coordinator to finalize menu, timeline, and special arrangements.</p>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">ðŸŽŠ</div>
                <h4>4. Send Invitations</h4>
                <p>Use our guest invitation system to notify your guests and track RSVPs.</p>
            </div>
        </div>
    </div>

    <div class="hero" style="margin-top: 3rem;">
        <h3>Want to invite your guests?</h3>
        <p>Use our digital invitation system to send beautiful invites and track RSVPs for your event.</p>
        <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem; flex-wrap: wrap;">
            <a href="{{ url_for('guest_rsvp', booking_id=booking.id) }}" class="btn btn-primary">Send Invitations</a>
            {% if booking.user %}
            <a href="{{ url_for('user_profile', user_id=booking.user.id) }}" class="btn btn-outline">View My Profile</a>
            {% endif %}
            <a href="{{ url_for('venues') }}" class="btn btn-outline">Browse More Venues</a>
        </div>
    </div>

    <div class="detail-section" style="margin-top: 2rem; background: var(--soft-sand);">
        <h3>Important Information</h3>
        <ul style="margin-top: 1rem; line-height: 1.8;">
            <li><strong>Cancellation Policy:</strong> Free cancellation up to 14 days before the event</li>
            <li><strong>Payment:</strong> Full payment completed upon booking confirmation</li>
            <li><strong>Setup Time:</strong> Venue available 4 hours before event start time</li>
            <li><strong>Traditional Ceremonies:</strong> Our staff is trained in Kazakh cultural traditions</li>
            <li><strong>Dietary Requirements:</strong> Halal, vegetarian, and special dietary options available</li>
        </ul>
    </div>
</div>
{% endblock %}
